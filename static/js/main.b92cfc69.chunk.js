(this.webpackJsonpseabattleshipts=this.webpackJsonpseabattleshipts||[]).push([[0],{26:function(e,n,r){},27:function(e,n,r){"use strict";r.r(n);var t=r(0),a=r(1),c=r.n(a),s=r(6),i=r.n(s),l=r(2),o=r(5),u=r(8);var b=Object(u.b)({name:"board",initialState:{selectSeaSize:[2,3,4,5,6],seaSize:3,numberOfShips:3,play:!1,currentPlayer:null,winner:null,player1:{name:"player1",move:[],ships:[],destroyedShips:[]},player2:{name:"player2",move:[],ships:[],destroyedShips:[]}},reducers:{reset:function(e){e.currentPlayer=null,e.play=!1,e.winner=null,e.player1={name:"player1",move:[],ships:[],destroyedShips:[]},e.player2={name:"player2",move:[],ships:[],destroyedShips:[]},window.navigator.vibrate([100])},seaSize:function(e,n){e.seaSize=n.payload,e.numberOfShips=n.payload},numberOfShips:function(e,n){e.numberOfShips=n.payload},play:function(e,n){e.play=!0,e.currentPlayer=n.payload,window.navigator.vibrate([100])},winner:function(e,n){e.winner=n.payload},movePlayer1:function(e,n){e.player1.move=[].concat(Object(o.a)(e.player1.move),[n.payload]),window.navigator.vibrate([100]),e.player2.ships.includes(n.payload)&&(e.player2.ships=e.player2.ships.filter((function(e){return e!==n.payload})),e.player2.destroyedShips.push(n.payload),window.navigator.vibrate([50,50,200])),0===e.player2.ships.length&&(e.winner="player1",window.navigator.vibrate([100,50,100,50,200,50,200,50,200,50,100])),e.currentPlayer="player2"},shipsPlayer1:function(e,n){e.player1.ships=n.payload},movePlayer2:function(e,n){e.player2.move=[].concat(Object(o.a)(e.player2.move),[n.payload]),window.navigator.vibrate([100]),e.player1.ships.includes(n.payload)&&(e.player1.ships=e.player1.ships.filter((function(e){return e!==n.payload})),e.player1.destroyedShips.push(n.payload),window.navigator.vibrate([50,50,200])),0===e.player1.ships.length&&(e.winner="player2",window.navigator.vibrate([100,50,100,50,200,50,200,50,500,50,100])),e.currentPlayer="player1"},shipsPlayer2:function(e,n){e.player2.ships=n.payload}}}),d=b.actions,p=d.reset,j=d.seaSize,y=d.numberOfShips,h=d.play,x=(d.winner,d.movePlayer1),f=d.shipsPlayer1,O=d.movePlayer2,m=d.shipsPlayer2,v=function(e){return e.board},S=b.reducer;function w(e){return Array.from({length:e*e},(function(e,n){return n+1}))}function g(e){var n=Math.round(e*e*Math.random());return 0!==n?n:1}function N(e,n){for(var r=[],t=1;t<=e;t++){var a=void 0;do{a=g(n)}while(r.includes(a));r=[].concat(Object(o.a)(r),[a])}return r}function z(e){var n=e.explane,r=e.union,a=e.text,c=e.color,s=void 0===c?"red-500":c;return Object(t.jsxs)("div",{className:"italic font-bold text-gray-400",children:[Object(t.jsx)("p",{className:"text-".concat(s),children:a})," ",Object(t.jsxs)("p",{children:[n,r," "]})]})}function P(e){var n=e.id,r=e.disabled,a=e.onTarget,c=e.destroyed,s="\n    h-12\n    w-full\n    border \n    border-solid \n    border-blue-900\n    text-4xl\n    ",i="\n    ".concat(s," text-blue-900\n    cursor-pointer \n    bg-blue-500 \n    hover:bg-red-500 \n    "),l="\n    ".concat(s,"\n    text-blue-500\n    cursor-not-allowed\n    ").concat(c?"":"bg-blue-900","\n    ");return Object(t.jsx)("div",{children:Object(t.jsx)("button",{className:r?l:i,type:"button",onClick:function(){return a(n)},disabled:r,children:c?Object(t.jsx)("span",{className:"text-blue-900",children:"X"}):r?Object(t.jsx)("span",{style:{fontFamily:"sans-serif"},children:"~"}):Object(t.jsx)("span",{children:"?"})})})}var k=["green-700","pink-700"],A=["yellow-700","purple-700"],M={player1:k[Math.floor(Math.random()*k.length)],player2:A[Math.floor(Math.random()*A.length)]},T={player1:"right-0",player2:"left-0"};function C(e){var n=e.direction,r="\n    absolute \n    w-1/5 \n    h-1/5 \n    bg-blue-900 \n    ";return Object(t.jsxs)(t.Fragment,{children:[Object(t.jsx)("div",{className:"top-0 ".concat(r," ").concat(n)}),Object(t.jsx)("div",{className:"bottom-0 ".concat(r," ").concat(n)})]})}function F(e){var n=e.seaSize,r=e.currentPlayer,a=e.player,c=e.oponent,s=e.onTarget;return Object(t.jsxs)("div",{className:"w-1/2 px-2 pb-2 bg-blue-900 text-".concat(M[a.name]),children:[Object(t.jsxs)("p",{children:[a.name," / ",a.ships.length," left"]}),Object(t.jsx)("div",{className:"flex flex-wrap",children:w(n).map((function(e){return Object(t.jsxs)("div",{className:"\n                relative \n                w-1/".concat(n," \n                ").concat(a.destroyedShips.includes(e)?"bg-".concat(M[a.name]):null),children:[a.destroyedShips.includes(e)?Object(t.jsx)(C,{direction:T[a.name]}):null,Object(t.jsx)(P,{id:e,disabled:r===a.name||c.move.includes(e),onTarget:s,destroyed:a.destroyedShips.includes(e)})]},e)}))})]})}function V(e){var n=e.seaOwner,r=Object(l.c)(v),a=Object(l.b)();return Object(t.jsx)(F,{seaSize:r.seaSize,currentPlayer:r.currentPlayer,player:r[n],oponent:r["player1"===n?"player2":"player1"],onTarget:function(e){"player1"===r.currentPlayer&&a(x(e)),"player2"===r.currentPlayer&&a(O(e))}})}function E(e){var n=e.text,r=e.onClick;return Object(t.jsx)("button",{onClick:r,className:"\n    py-2\n    px-4 \n    bg-blue-500 \n    hover:bg-blue-400 \n    text-blue-900\n    shadow-none\n    hover:shadow-md\n    cursor-pointer\n    focus:outline-none \n    focus:shadow-outline\n    ",children:n})}function I(){var e=Object(l.b)();return Object(t.jsx)(E,{text:"PLAY AGAIN",onClick:function(){e(p())}})}function L(e){var n=e.winner,r=e.currentPlayer;return n?Object(t.jsxs)(t.Fragment,{children:[Object(t.jsx)(z,{explane:"WIN",union:"!",text:n,color:null!==r?M[n]:void 0}),Object(t.jsx)("br",{}),Object(t.jsx)(I,{})]}):Object(t.jsxs)("div",{className:"flex flex-col",children:[Object(t.jsx)(z,{explane:"ATTACKS",union:"!",text:r,color:null!==r?M[r]:void 0}),Object(t.jsxs)("div",{className:"flex w-screen justify-center",children:[Object(t.jsx)(V,{seaOwner:"player1"}),Object(t.jsx)(V,{seaOwner:"player2"})]})]})}function Y(){var e=Object(l.c)(v),n=Object(l.b)();return Object(a.useEffect)((function(){n(f(N(e.numberOfShips,e.seaSize))),n(m(N(e.numberOfShips,e.seaSize)))}),[n,e.numberOfShips,e.seaSize]),Object(t.jsx)(L,{currentPlayer:e.currentPlayer,winner:e.winner})}function B(){return Object(t.jsxs)("div",{className:"text-7xl italic",children:[Object(t.jsx)("span",{className:"text-".concat(M.player1),children:"SEA"}),Object(t.jsx)("span",{className:"text-".concat(M.player2),children:"BATTLE"})]})}function G(e){var n=e.labelText,r=e.defaultValue,a=e.selectArray,c=e.setValue,s=e.viewModificator;return Object(t.jsxs)("div",{className:"pb-2",children:[Object(t.jsx)("div",{className:"flex justify-evenly w-80",children:a.map((function(e){return Object(t.jsx)("div",{className:"flex-1 cursor-pointer ".concat(e===r?"text-blue-800 bg-blue-500 hover:bg-blue-500 shadow-md transform scale-125":"text-blue-500"),onClick:function(){c(Number(e))},children:s(e)},e)}))}),Object(t.jsx)("p",{className:"text-gray-400 border-t-2 border-solid border-blue-500",children:n})]})}function J(){var e=Object(l.b)();return Object(t.jsx)(E,{text:"PLAY",onClick:function(){var n=Math.random()>.5?"player1":"player2";e(h(n))}})}function K(e){var n=e.seaSize,r=e.seaSizeArray,a=e.setSeaSize,c=e.numberOfShips,s=e.numberOfShipsArray,i=e.setNumberOfShips;return Object(t.jsxs)("div",{className:"m-4",children:[Object(t.jsx)(G,{labelText:"Field size",defaultValue:n,selectArray:r,setValue:a,viewModificator:function(e){return"".concat(e,"x").concat(e)}}),Object(t.jsx)(G,{labelText:"Number of ships",defaultValue:c,selectArray:s,setValue:i,viewModificator:function(e){return"".concat(e)}}),Object(t.jsx)(J,{})]})}function W(){var e,n,r=Object(l.c)(v),a=Object(l.b)(),c=(e=r.seaSize,n=Math.round(r.seaSize*r.seaSize/2),Array.from({length:n-e+1},(function(n,r){return r+e})));return Object(t.jsx)(K,{seaSize:r.seaSize,seaSizeArray:r.selectSeaSize,setSeaSize:function(e){a(j(e))},numberOfShips:r.numberOfShips,numberOfShipsArray:c,setNumberOfShips:function(e){a(y(e))}})}var X=r(14);function q(){var e=Object(a.useState)(!1),n=Object(X.a)(e,2),r=n[0],c=n[1],s="\n    text-gray-400\n    cursor-pointer\n    ";return Object(t.jsxs)("div",{children:[Object(t.jsx)("span",{className:r?s:"underline ".concat(s),onClick:function(){c(!r)},children:"Game rulle"}),Object(t.jsxs)("div",{className:"text-left max-w-mx text-gray-400",hidden:!r,children:[Object(t.jsx)("p",{children:"You're have several solo ships."}),Object(t.jsx)("p",{children:"They are distributed randomly across the playing field."}),Object(t.jsx)("p",{children:"Each player makes one move."}),Object(t.jsx)("p",{children:"Knock out all the ships from the enemy field!"})]})]})}function D(e){var n=e.play;return Object(t.jsx)("div",{className:"\r text-2xl\r p-2 \r h-screen\r flex \r flex-col \r items-center \r justify-center\r text-center text-white",children:n?Object(t.jsx)(Y,{}):Object(t.jsxs)(t.Fragment,{children:[Object(t.jsx)(B,{}),Object(t.jsx)("div",{className:"text-gray-400 -mt-4",children:"for two players"}),Object(t.jsx)(W,{}),Object(t.jsx)(q,{})]})})}function H(){var e=Object(l.c)(v);return Object(t.jsx)(D,{play:e.play})}function Q(){return Object(t.jsxs)(t.Fragment,{children:[Object(t.jsx)("div",{className:"\n        top-0 \n        back \n        fixed\n        h-screen \n        w-screen\n        bg-blue-900\n        \n        "}),Object(t.jsx)("div",{className:"\n      top-0 \n      back \n      fixed\n      h-screen \n      w-screen\n      bg-gradient-to-b from-black via-blue-900 to-black\n      opacity-50\n      "}),Object(t.jsx)("div",{className:"\n      top-0 \n      back \n      fixed\n      h-screen \n      w-screen\n      bg-gradient-to-r from-black via-gray-900 to-black\n      opacity-30\n      "})]})}r(26);var R=function(){return Object(t.jsxs)("div",{className:"App",children:[Object(t.jsx)(H,{}),Object(t.jsx)(Q,{})]})},U=Object(u.a)({reducer:{board:S}});i.a.render(Object(t.jsx)(c.a.StrictMode,{children:Object(t.jsx)(l.a,{store:U,children:Object(t.jsx)(R,{})})}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.b92cfc69.chunk.js.map