(this.webpackJsonpseabattleshipts=this.webpackJsonpseabattleshipts||[]).push([[0],{26:function(e,n,r){},27:function(e,n,r){"use strict";r.r(n);var t=r(0),a=r(1),s=r.n(a),c=r(6),i=r.n(c),l=r(2),o=r(5),u=r(8);var p=Object(u.b)({name:"board",initialState:{selectSeaSize:[3,4,5],seaSize:3,numberOfShips:3,play:!1,currentPlayer:null,winner:null,player1:{name:"player1",move:[],ships:[],destroyedShips:[]},player2:{name:"player2",move:[],ships:[],destroyedShips:[]}},reducers:{reset:function(e){e.currentPlayer=null,e.play=!1,e.winner=null,e.player1={name:"player1",move:[],ships:[],destroyedShips:[]},e.player2={name:"player2",move:[],ships:[],destroyedShips:[]}},seaSize:function(e,n){e.seaSize=n.payload,e.numberOfShips=n.payload},numberOfShips:function(e,n){e.numberOfShips=n.payload},play:function(e,n){e.play=!0,e.currentPlayer=n.payload},winner:function(e,n){e.winner=n.payload},movePlayer1:function(e,n){e.player1.move=[].concat(Object(o.a)(e.player1.move),[n.payload]),e.player2.ships.includes(n.payload)&&(e.player2.ships=e.player2.ships.filter((function(e){return e!==n.payload})),e.player2.destroyedShips.push(n.payload)),0===e.player2.ships.length&&(e.winner="player1"),e.currentPlayer="player2"},shipsPlayer1:function(e,n){e.player1.ships=n.payload},movePlayer2:function(e,n){e.player2.move=[].concat(Object(o.a)(e.player2.move),[n.payload]),e.player1.ships.includes(n.payload)&&(e.player1.ships=e.player1.ships.filter((function(e){return e!==n.payload})),e.player1.destroyedShips.push(n.payload)),0===e.player1.ships.length&&(e.winner="player2"),e.currentPlayer="player1"},shipsPlayer2:function(e,n){e.player2.ships=n.payload}}}),d=p.actions,b=d.reset,j=d.seaSize,h=d.numberOfShips,y=d.play,f=(d.winner,d.movePlayer1),x=d.shipsPlayer1,O=d.movePlayer2,m=d.shipsPlayer2,v=function(e){return e.board},S=p.reducer;function w(e){return Array.from({length:e*e},(function(e,n){return n+1}))}function g(e){var n=Math.round(e*e*Math.random());return 0!==n?n:1}function P(e,n){for(var r=[],t=1;t<=e;t++){var a=void 0;do{a=g(n)}while(r.includes(a));r=[].concat(Object(o.a)(r),[a])}return r}function z(e){var n=e.explane,r=e.union,a=e.text;return Object(t.jsxs)("div",{className:"italic font-bold",children:[n," ",r," ",Object(t.jsx)("span",{className:"text-red-500",children:a})]})}function N(e){var n=e.id,r=e.disabled,a=e.onTarget,s=e.xChoice;return Object(t.jsx)("button",{className:r?"\n    w-8 \n    text-gray-200 \n    cursor-not-allowed \n    ":"\n    w-8 \n    text-black \n    cursor-pointer \n    rounded-xl\n    bg-blue-100 \n    hover:bg-red-100 \n    ",type:"button",onClick:function(){return a(n)},disabled:r,children:s?"x":n})}function A(e){var n=e.seaSize,r=e.currentPlayer,a=e.player,s=e.oponent,c=e.onTarget;return Object(t.jsxs)("div",{className:"w-1/2 p-2",children:[Object(t.jsx)("p",{children:a.name}),Object(t.jsx)("p",{children:"have a "}),Object(t.jsxs)("p",{children:[Object(t.jsx)("span",{className:"font-bold",children:a.ships.length})," ",1===a.ships.length?"ship":"ships"]}),w(n).map((function(e){return Object(t.jsxs)("span",{className:"rounded-r-none rounded-l-xl",style:a.destroyedShips.includes(e)?{background:"#f00"}:{background:"none"},children:[Object(t.jsx)(N,{id:e,disabled:r===a.name||s.move.includes(e),onTarget:c,xChoice:s.move.includes(e)}),e%n?null:Object(t.jsx)("br",{})]},e)}))]})}function k(e){var n=e.seaOwner,r=Object(l.c)(v),a=Object(l.b)();return Object(t.jsx)(A,{seaSize:r.seaSize,currentPlayer:r.currentPlayer,player:r[n],oponent:r["player1"===n?"player2":"player1"],onTarget:function(e){"player1"===r.currentPlayer&&a(f(e)),"player2"===r.currentPlayer&&a(O(e))}})}function T(e){var n=e.text,r=e.onClick;return Object(t.jsx)("button",{onClick:r,className:"\n    py-2\n    px-4 \n    bg-blue-600 \n    hover:bg-blue-800 \n    text-white \n    transition-all \n    duration-1000\n    rounded \n    shadow-md\n    hover:shadow-none\n    cursor-pointer\n    focus:outline-none \n    focus:shadow-outline\n    ",children:n})}function C(){var e=Object(l.b)();return Object(t.jsx)(T,{text:"PLAY AGAIN",onClick:function(){e(b())}})}function M(e){var n=e.winner,r=e.currentPlayer;return n?Object(t.jsxs)(t.Fragment,{children:[Object(t.jsx)(z,{explane:"Winner the game",union:"-",text:n}),Object(t.jsx)("br",{}),Object(t.jsx)(C,{})]}):Object(t.jsxs)("div",{className:"flex flex-col",children:[Object(t.jsx)(z,{explane:"Next move",union:"-",text:r}),Object(t.jsxs)("div",{className:"flex justify-center",children:[Object(t.jsx)(k,{seaOwner:"player1"}),Object(t.jsx)(k,{seaOwner:"player2"})]})]})}function V(){var e=Object(l.c)(v),n=Object(l.b)();return s.a.useEffect((function(){n(x(P(e.numberOfShips,e.seaSize))),n(m(P(e.numberOfShips,e.seaSize)))}),[n,e.numberOfShips,e.seaSize]),Object(t.jsx)(M,{currentPlayer:e.currentPlayer,winner:e.winner})}function E(){return Object(t.jsx)("span",{className:"text-6xl p-4 bg-blue-600 italic text-white",children:"SEA BATTLESHIP"})}function I(e){var n=e.labelText,r=e.defaultValue,a=e.selectArray,s=e.setValue,c=e.viewModificator;return Object(t.jsxs)("div",{children:[Object(t.jsx)("label",{children:n}),Object(t.jsx)("br",{}),Object(t.jsx)("select",{defaultValue:r,onChange:function(e){s(Number(e.target.value))},children:a.map((function(e){return Object(t.jsx)("option",{value:e,children:c(e)},e)}))})]})}function L(){var e=Object(l.b)();return Object(t.jsx)(T,{text:"PLAY",onClick:function(){var n=Math.random()>.5?"player1":"player2";e(y(n))}})}function Y(e){var n=e.seaSize,r=e.seaSizeArray,a=e.setSeaSize,s=e.numberOfShips,c=e.numberOfShipsArray,i=e.setNumberOfShips;return Object(t.jsxs)("div",{className:"m-4",children:[Object(t.jsx)(I,{labelText:"Sea size",defaultValue:n,selectArray:r,setValue:a,viewModificator:function(e){return"".concat(e," x ").concat(e)}}),Object(t.jsx)("br",{}),Object(t.jsx)(I,{labelText:"Number of ships",defaultValue:s,selectArray:c,setValue:i,viewModificator:function(e){return"".concat(e)}}),Object(t.jsx)("br",{}),Object(t.jsx)(L,{})]})}function B(){var e,n,r=Object(l.c)(v),a=Object(l.b)(),s=(e=r.seaSize,n=Math.round(r.seaSize*r.seaSize/2),Array.from({length:n-e+1},(function(n,r){return r+e})));return Object(t.jsx)(Y,{seaSize:r.seaSize,seaSizeArray:r.selectSeaSize,setSeaSize:function(e){a(j(e))},numberOfShips:r.numberOfShips,numberOfShipsArray:s,setNumberOfShips:function(e){a(h(e))}})}var J=r(14);function F(){var e=s.a.useState(!1),n=Object(J.a)(e,2),r=n[0],a=n[1],c="\n    text-blue-500 \n    hover:text-blue-800 \n    cursor-pointer\n    ";return Object(t.jsxs)("div",{children:[Object(t.jsx)("span",{className:r?c:"underline ".concat(c),onClick:function(){a(!r)},children:"Rulles the game"}),Object(t.jsxs)("div",{className:"text-left max-w-md",hidden:!r,children:[Object(t.jsx)("p",{children:"You have several solo ships."}),Object(t.jsx)("p",{children:"They are distributed randomly across the playing field."}),Object(t.jsx)("p",{children:"The first move is made by the player who got the random choice."}),Object(t.jsx)("p",{children:"Each player makes one move, regardless of hitting the target."}),Object(t.jsx)("p",{children:"The winner is the player who knocks out all the ships from the enemy field."})]})]})}function G(e){var n=e.play;return Object(t.jsxs)("div",{className:"p-4 flex flex-col items-center justify-center text-center",children:[Object(t.jsx)(E,{}),n?Object(t.jsx)(V,{}):Object(t.jsx)(B,{}),Object(t.jsx)("br",{}),Object(t.jsx)(F,{})]})}function H(){var e=Object(l.c)(v);return Object(t.jsx)(G,{play:e.play})}r(26);var R=function(){return Object(t.jsx)("div",{className:"App",children:Object(t.jsx)(H,{})})},W=Object(u.a)({reducer:{board:S}});i.a.render(Object(t.jsx)(s.a.StrictMode,{children:Object(t.jsx)(l.a,{store:W,children:Object(t.jsx)(R,{})})}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.c615f648.chunk.js.map